/*******************************************************************************
 * Filename:			main_loop.h
 * Revised:				Date: 2020.02.20
 * Revision:			V001
 * Description:		    Main loop function
*******************************************************************************/

#ifndef _MAIN_LOOP_H_
#define _MAIN_LOOP_H_

#ifdef __cplusplus
extern "C"
{
#endif

/*******************************************************************************
 * INCLUDES
 ******************************************************************************/
#include "common.h"

/*******************************************************************************
 * ENUMERATED
 ******************************************************************************/
// Event flags
typedef enum
{
	coinInsertEventFlag	= 0,
	buttonPressedEventFlag,
	maximumEventFlag,
}
eEVENT_FLAGS;

/*******************************************************************************
 * PUBLIC VARIABLES
 ******************************************************************************/
extern volatile uint32_t eventFlags;

/*******************************************************************************
 * PUBLIC FUNCTIONS
 ******************************************************************************/
/*******************************************************************************
 * @fn		MainLoop
 * @brief	Main loop
 * @param	None
 ******************************************************************************/
void MainLoop(void);

/*******************************************************************************
 * INTERRUPT CALLBACK
 ******************************************************************************/
/*******************************************************************************
 * @fn      HAL_GPIO_EXTI_Callback
 * @brief   EXTI line detection callback
 * @param	gpioPin
 * @return	None
 ******************************************************************************/
void HAL_GPIO_EXTI_Callback(uint16_t gpioPin);

#ifdef __cplusplus
}
#endif

#endif /* _MAIN_LOOP_H_ */
